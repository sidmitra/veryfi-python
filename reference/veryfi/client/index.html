
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.4, mkdocs-material-7.3.0">
    
    
      
        <title>Client - veryfi-python</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8b42a75e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="lightgreen">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-veryficlient" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="veryfi-python" class="md-header__button md-logo" aria-label="veryfi-python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            veryfi-python
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Client
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/veryfi/veryfi-python/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    veryfi-python
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="veryfi-python" class="md-nav__button md-logo" aria-label="veryfi-python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    veryfi-python
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/veryfi/veryfi-python/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    veryfi-python
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../CONTRIBUTORS/" class="md-nav__link">
        Contributors
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../NEWS/" class="md-nav__link">
        News
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_1">
          Veryfi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Veryfi" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Veryfi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Client
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Client
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client" class="md-nav__link">
    Client
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#class-variables" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_line_item" class="md-nav__link">
    add_line_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_document" class="md-nav__link">
    delete_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_line_item" class="md-nav__link">
    delete_line_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_line_items" class="md-nav__link">
    delete_line_items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_document" class="md-nav__link">
    get_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_documents" class="md-nav__link">
    get_documents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_line_item" class="md-nav__link">
    get_line_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_line_items" class="md-nav__link">
    get_line_items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_document" class="md-nav__link">
    process_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_document_url" class="md-nav__link">
    process_document_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_w9_document" class="md-nav__link">
    process_w9_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_w9_document_url" class="md-nav__link">
    process_w9_document_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_document" class="md-nav__link">
    update_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_line_item" class="md-nav__link">
    update_line_item
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../errors/" class="md-nav__link">
        Errors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../model/" class="md-nav__link">
        Model
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#client" class="md-nav__link">
    Client
  </a>
  
    <nav class="md-nav" aria-label="Client">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#class-variables" class="md-nav__link">
    Class variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add_line_item" class="md-nav__link">
    add_line_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_document" class="md-nav__link">
    delete_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_line_item" class="md-nav__link">
    delete_line_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete_line_items" class="md-nav__link">
    delete_line_items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_document" class="md-nav__link">
    get_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_documents" class="md-nav__link">
    get_documents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_line_item" class="md-nav__link">
    get_line_item
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_line_items" class="md-nav__link">
    get_line_items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_document" class="md-nav__link">
    process_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_document_url" class="md-nav__link">
    process_document_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_w9_document" class="md-nav__link">
    process_w9_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_w9_document_url" class="md-nav__link">
    process_w9_document_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_document" class="md-nav__link">
    update_document
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_line_item" class="md-nav__link">
    update_line_item
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/veryfi/veryfi-python/edit/main/reference/veryfi/client.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="module-veryficlient">Module veryfi.client</h1>
<p>None</p>
<p>None</p>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">base64</span>

<span class="kn">import</span> <span class="nn">hashlib</span>

<span class="kn">import</span> <span class="nn">hmac</span>

<span class="kn">import</span> <span class="nn">json</span>

<span class="kn">import</span> <span class="nn">os</span>

<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">requests</span>

<span class="kn">from</span> <span class="nn">veryfi.model</span> <span class="kn">import</span> <span class="n">AddLineItem</span><span class="p">,</span> <span class="n">UpdateLineItem</span>

<span class="kn">from</span> <span class="nn">veryfi.errors</span> <span class="kn">import</span> <span class="n">VeryfiClientError</span>

<span class="k">class</span> <span class="nc">Client</span><span class="p">:</span>

    <span class="n">API_VERSION</span> <span class="o">=</span> <span class="s2">&quot;v8&quot;</span>

    <span class="n">API_TIMEOUT</span> <span class="o">=</span> <span class="mi">30</span>

    <span class="n">BASE_URL</span> <span class="o">=</span> <span class="s2">&quot;https://api.veryfi.com/api/&quot;</span>

    <span class="n">CATEGORIES</span> <span class="o">=</span> <span class="p">[</span>

        <span class="s2">&quot;Advertising &amp; Marketing&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Automotive&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Bank Charges &amp; Fees&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Legal &amp; Professional Services&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Insurance&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Meals &amp; Entertainment&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Office Supplies &amp; Software&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Taxes &amp; Licenses&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Travel&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Rent &amp; Lease&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Repairs &amp; Maintenance&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Payroll&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Utilities&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Job Supplies&quot;</span><span class="p">,</span>

        <span class="s2">&quot;Grocery&quot;</span><span class="p">,</span>

    <span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>

        <span class="bp">self</span><span class="p">,</span>

        <span class="n">client_id</span><span class="p">,</span>

        <span class="n">client_secret</span><span class="p">,</span>

        <span class="n">username</span><span class="p">,</span>

        <span class="n">api_key</span><span class="p">,</span>

        <span class="n">base_url</span><span class="o">=</span><span class="n">BASE_URL</span><span class="p">,</span>

        <span class="n">api_version</span><span class="o">=</span><span class="n">API_VERSION</span><span class="p">,</span>

        <span class="n">timeout</span><span class="o">=</span><span class="n">API_TIMEOUT</span><span class="p">,</span>

    <span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span> <span class="o">=</span> <span class="n">client_id</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span> <span class="o">=</span> <span class="n">client_secret</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">api_key</span> <span class="o">=</span> <span class="n">api_key</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="n">base_url</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">api_version</span> <span class="o">=</span> <span class="n">api_version</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">versioned_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">base_url</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">api_version</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_session</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Prepares the headers needed for a request.</span>

<span class="sd">        :return: Dictionary with headers</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">final_headers</span> <span class="o">=</span> <span class="p">{</span>

            <span class="s2">&quot;User-Agent&quot;</span><span class="p">:</span> <span class="s2">&quot;Python Veryfi-Python/3.0.0&quot;</span><span class="p">,</span>

            <span class="s2">&quot;Accept&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>

            <span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>

            <span class="s2">&quot;Client-Id&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_id</span><span class="p">,</span>

        <span class="p">}</span>

        <span class="n">final_headers</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;apikey </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">api_key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">})</span>

        <span class="k">return</span> <span class="n">final_headers</span>

    <span class="k">def</span> <span class="nf">_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">http_verb</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Submit the HTTP request.</span>

<span class="sd">        :param http_verb: HTTP Method</span>

<span class="sd">        :param endpoint_name: Endpoint name such as &#39;documents&#39;, &#39;users&#39;, etc.</span>

<span class="sd">        :param request_arguments: JSON payload to send to Veryfi</span>

<span class="sd">        :return: A JSON of the response data.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_headers</span><span class="p">()</span>

        <span class="n">api_url</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">/partner</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">versioned_url</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="p">:</span>

            <span class="n">timestamp</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>

            <span class="n">signature</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_signature</span><span class="p">(</span><span class="n">request_arguments</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="n">timestamp</span><span class="p">)</span>

            <span class="n">headers</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>

                <span class="p">{</span>

                    <span class="s2">&quot;X-Veryfi-Request-Timestamp&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">timestamp</span><span class="p">),</span>

                    <span class="s2">&quot;X-Veryfi-Request-Signature&quot;</span><span class="p">:</span> <span class="n">signature</span><span class="p">,</span>

                <span class="p">}</span>

            <span class="p">)</span>

        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span>

            <span class="n">http_verb</span><span class="p">,</span>

            <span class="n">url</span><span class="o">=</span><span class="n">api_url</span><span class="p">,</span>

            <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span>

            <span class="n">data</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request_arguments</span><span class="p">),</span>

            <span class="n">timeout</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>

        <span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">204</span><span class="p">]:</span>

            <span class="k">raise</span> <span class="n">VeryfiClientError</span><span class="o">.</span><span class="n">from_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_generate_signature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">payload_params</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Generate unique signature for payload params.</span>

<span class="sd">        :param payload_params: JSON params to be sent to API request</span>

<span class="sd">        :param timestamp: Unix Long timestamp</span>

<span class="sd">        :return: Unique signature generated using the client_secret and the payload</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">payload</span> <span class="o">=</span> <span class="s2">&quot;timestamp:</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">payload_params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>

            <span class="n">value</span> <span class="o">=</span> <span class="n">payload_params</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

            <span class="n">payload</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">,</span><span class="si">{1}</span><span class="s2">:</span><span class="si">{2}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

        <span class="n">secret_bytes</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client_secret</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

        <span class="n">payload_bytes</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

        <span class="n">tmp_signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret_bytes</span><span class="p">,</span> <span class="n">msg</span><span class="o">=</span><span class="n">payload_bytes</span><span class="p">,</span> <span class="n">digestmod</span><span class="o">=</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">()</span>

        <span class="n">base64_signature</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">tmp_signature</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">base64_signature</span>

    <span class="k">def</span> <span class="nf">get_documents</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Get list of documents</span>

<span class="sd">        :return: List of previously processed documents</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="s2">&quot;/documents/&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">documents</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;documents&quot;</span> <span class="ow">in</span> <span class="n">documents</span><span class="p">:</span>

            <span class="k">return</span> <span class="n">documents</span><span class="p">[</span><span class="s2">&quot;documents&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">documents</span>

    <span class="k">def</span> <span class="nf">get_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Retrieve document by ID</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to retrieve</span>

<span class="sd">        :return: Data extracted from the Document</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="s2">&quot;/documents/</span><span class="si">{}</span><span class="s2">/&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">document_id</span><span class="p">)</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">document_id</span><span class="p">}</span>

        <span class="n">document</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">document</span>

    <span class="k">def</span> <span class="nf">process_document</span><span class="p">(</span>

        <span class="bp">self</span><span class="p">,</span>

        <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>

        <span class="n">categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

        <span class="n">delete_after_processing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>

        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span>

    <span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Process a document and extract all the fields from it</span>

<span class="sd">        :param file_path: Path on disk to a file to submit for data extraction</span>

<span class="sd">        :param categories: List of categories Veryfi can use to categorize the document</span>

<span class="sd">        :param delete_after_processing: Delete this document from Veryfi after data has been extracted</span>

<span class="sd">        :param kwargs: Additional request parameters</span>

<span class="sd">        :return: Data extracted from the document</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="s2">&quot;/documents/&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">categories</span><span class="p">:</span>

            <span class="n">categories</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CATEGORIES</span>

        <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">image_file</span><span class="p">:</span>

            <span class="n">base64_encoded_string</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">image_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{</span>

            <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="n">file_name</span><span class="p">,</span>

            <span class="s2">&quot;file_data&quot;</span><span class="p">:</span> <span class="n">base64_encoded_string</span><span class="p">,</span>

            <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="n">categories</span><span class="p">,</span>

            <span class="s2">&quot;auto_delete&quot;</span><span class="p">:</span> <span class="n">delete_after_processing</span><span class="p">,</span>

        <span class="p">}</span>

        <span class="n">request_arguments</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">document</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">document</span>

    <span class="k">def</span> <span class="nf">process_document_url</span><span class="p">(</span>

        <span class="bp">self</span><span class="p">,</span>

        <span class="n">file_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

        <span class="n">categories</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

        <span class="n">delete_after_processing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>

        <span class="n">boost_mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

        <span class="n">external_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

        <span class="n">max_pages_to_process</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

        <span class="n">file_urls</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>

        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">,</span>

    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>

        <span class="sd">&quot;&quot;&quot;Process Document from url and extract all the fields from it.</span>

<span class="sd">        :param file_url: Required if file_urls isn&#39;t specified. Publicly accessible URL to a file, e.g. &quot;https://cdn.example.com/receipt.jpg&quot;.</span>

<span class="sd">        :param file_urls: Required if file_url isn&#39;t specifies. List of publicly accessible URLs to multiple files, e.g. [&quot;https://cdn.example.com/receipt1.jpg&quot;, &quot;https://cdn.example.com/receipt2.jpg&quot;]</span>

<span class="sd">        :param categories: List of categories to use when categorizing the document</span>

<span class="sd">        :param delete_after_processing: Delete this document from Veryfi after data has been extracted</span>

<span class="sd">        :param max_pages_to_process: When sending a long document to Veryfi for processing, this parameter controls how many pages of the document will be read and processed, starting from page 1.</span>

<span class="sd">        :param boost_mode: Flag that tells Veryfi whether boost mode should be enabled. When set to 1, Veryfi will skip data enrichment steps, but will process the document faster. Default value for this flag is 0</span>

<span class="sd">        :param external_id: Optional custom document identifier. Use this if you would like to assign your own ID to documents</span>

<span class="sd">        :param kwargs: Additional request parameters</span>

<span class="sd">        :return: Data extracted from the document.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="s2">&quot;/documents/&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{</span>

            <span class="s2">&quot;auto_delete&quot;</span><span class="p">:</span> <span class="n">delete_after_processing</span><span class="p">,</span>

            <span class="s2">&quot;boost_mode&quot;</span><span class="p">:</span> <span class="n">boost_mode</span><span class="p">,</span>

            <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="n">categories</span><span class="p">,</span>

            <span class="s2">&quot;external_id&quot;</span><span class="p">:</span> <span class="n">external_id</span><span class="p">,</span>

            <span class="s2">&quot;file_url&quot;</span><span class="p">:</span> <span class="n">file_url</span><span class="p">,</span>

            <span class="s2">&quot;file_urls&quot;</span><span class="p">:</span> <span class="n">file_urls</span><span class="p">,</span>

            <span class="s2">&quot;max_pages_to_process&quot;</span><span class="p">:</span> <span class="n">max_pages_to_process</span><span class="p">,</span>

        <span class="p">}</span>

        <span class="n">request_arguments</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">process_w9_document_url</span><span class="p">(</span>

        <span class="bp">self</span><span class="p">,</span> <span class="n">file_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span>

    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Process W9 Document from url and extract all the fields from it.</span>

<span class="sd">        :param file_url: Publicly accessible URL to a file, e.g. &quot;https://cdn.example.com/receipt.jpg&quot;.</span>

<span class="sd">        :param file_name: Optional name of file, eg. receipt.jpg</span>

<span class="sd">        :param kwargs: Additional request parameters</span>

<span class="sd">        :return: Data extracted from the document.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

            <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_url</span><span class="p">)</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="s2">&quot;/w9s/&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{</span>

            <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="n">file_name</span><span class="p">,</span>

            <span class="s2">&quot;file_url&quot;</span><span class="p">:</span> <span class="n">file_url</span><span class="p">,</span>

        <span class="p">}</span>

        <span class="n">request_arguments</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">process_w9_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Process W9 Document from url and extract all the fields from it.</span>

<span class="sd">        :param file_path: Path on disk to a file to submit for data extraction</span>

<span class="sd">        :param file_name: Optional name of file, eg. receipt.jpg</span>

<span class="sd">        :param kwargs: Additional request parameters</span>

<span class="sd">        :return: Data extracted from the document.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="s2">&quot;/w9s/&quot;</span>

        <span class="k">if</span> <span class="n">file_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>

            <span class="n">file_name</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">image_file</span><span class="p">:</span>

            <span class="n">base64_encoded_string</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">image_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{</span>

            <span class="s2">&quot;file_name&quot;</span><span class="p">:</span> <span class="n">file_name</span><span class="p">,</span>

            <span class="s2">&quot;file_data&quot;</span><span class="p">:</span> <span class="n">base64_encoded_string</span><span class="p">,</span>

        <span class="p">}</span>

        <span class="n">request_arguments</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="n">document</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">document</span>

    <span class="k">def</span> <span class="nf">delete_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Delete Document from Veryfi</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to delete</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/documents/</span><span class="si">{</span><span class="n">document_id</span><span class="si">}</span><span class="s2">/&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">document_id</span><span class="p">}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Update data for a previously processed document, including almost any field like `vendor`, `date`, `notes` and etc.</span>

<span class="sd">        ```veryfi_client.update_document(id, date=&quot;2021-01-01&quot;, notes=&quot;look what I did&quot;)```</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="sd">        :param kwargs: fields to update</span>

<span class="sd">        :return: A document json with updated fields, if fields are writable. Otherwise a document with unchanged fields.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/documents/</span><span class="si">{</span><span class="n">document_id</span><span class="si">}</span><span class="s2">/&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_line_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Retrieve all line items for a document.</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to retrieve</span>

<span class="sd">        :return: List of line items extracted from the document</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/documents/</span><span class="si">{</span><span class="n">document_id</span><span class="si">}</span><span class="s2">/line-items/&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">line_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">line_items</span>

    <span class="k">def</span> <span class="nf">get_line_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">,</span> <span class="n">line_item_id</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Retrieve a line item for existing document by ID.</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to retrieve</span>

<span class="sd">        :param line_item_id: ID of the line item you&#39;d like to retrieve</span>

<span class="sd">        :return: Line item extracted from the document</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/documents/</span><span class="si">{</span><span class="n">document_id</span><span class="si">}</span><span class="s2">/line-items/</span><span class="si">{</span><span class="n">line_item_id</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="n">line_items</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">line_items</span>

    <span class="k">def</span> <span class="nf">add_line_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Add a new line item on an existing document.</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="sd">        :param payload: line item object to add</span>

<span class="sd">        :return: Added line item data</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/documents/</span><span class="si">{</span><span class="n">document_id</span><span class="si">}</span><span class="s2">/line-items/&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="n">AddLineItem</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">)</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">update_line_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">line_item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">payload</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Update an existing line item on an existing document.</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="sd">        :param line_item_id: ID of the line item you&#39;d like to update</span>

<span class="sd">        :param payload: line item object to update</span>

<span class="sd">        :return: Line item data with updated fields, if fields are writable. Otherwise line item data with unchanged fields.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/documents/</span><span class="si">{</span><span class="n">document_id</span><span class="si">}</span><span class="s2">/line-items/</span><span class="si">{</span><span class="n">line_item_id</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="n">UpdateLineItem</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">)</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_line_items</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Delete all line items on an existing document.</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to delete</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/documents/</span><span class="si">{</span><span class="n">document_id</span><span class="si">}</span><span class="s2">/line-items/&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_line_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_id</span><span class="p">,</span> <span class="n">line_item_id</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Delete an existing line item on an existing document.</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to delete</span>

<span class="sd">        :param line_item_id: ID of the line item you&#39;d like to delete</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">endpoint_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/documents/</span><span class="si">{</span><span class="n">document_id</span><span class="si">}</span><span class="s2">/line-items/</span><span class="si">{</span><span class="n">line_item_id</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">request_arguments</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;DELETE&quot;</span><span class="p">,</span> <span class="n">endpoint_name</span><span class="p">,</span> <span class="n">request_arguments</span><span class="p">)</span>
</code></pre></div>

</details>
<h2 id="variables">Variables</h2>
<div class="codehilite"><pre><span></span><code><span class="n">TYPE_CHECKING</span>
</code></pre></div>

<h2 id="classes">Classes</h2>
<h3 id="client">Client</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Client</span><span class="p">(</span>
    <span class="n">client_id</span><span class="p">,</span>
    <span class="n">client_secret</span><span class="p">,</span>
    <span class="n">username</span><span class="p">,</span>
    <span class="n">api_key</span><span class="p">,</span>
    <span class="n">base_url</span><span class="o">=</span><span class="s1">&#39;https://api.veryfi.com/api/&#39;</span><span class="p">,</span>
    <span class="n">api_version</span><span class="o">=</span><span class="s1">&#39;v8&#39;</span><span class="p">,</span>
    <span class="n">timeout</span><span class="o">=</span><span class="mi">30</span>
<span class="p">)</span>
</code></pre></div>

<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nl">Client</span><span class="p">:</span><span class="w"></span>

<span class="w">    </span><span class="n">API_VERSION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;v8&quot;</span><span class="w"></span>

<span class="w">    </span><span class="n">API_TIMEOUT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="w"></span>

<span class="w">    </span><span class="n">BASE_URL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;https://api.veryfi.com/api/&quot;</span><span class="w"></span>

<span class="w">    </span><span class="n">CATEGORIES</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="n"></span>

<span class="n">        &quot;Advertising &amp; Marketing&quot;,</span>

<span class="n">        &quot;Automotive&quot;,</span>

<span class="n">        &quot;Bank Charges &amp; Fees&quot;,</span>

<span class="n">        &quot;Legal &amp; Professional Services&quot;,</span>

<span class="n">        &quot;Insurance&quot;,</span>

<span class="n">        &quot;Meals &amp; Entertainment&quot;,</span>

<span class="n">        &quot;Office Supplies &amp; Software&quot;,</span>

<span class="n">        &quot;Taxes &amp; Licenses&quot;,</span>

<span class="n">        &quot;Travel&quot;,</span>

<span class="n">        &quot;Rent &amp; Lease&quot;,</span>

<span class="n">        &quot;Repairs &amp; Maintenance&quot;,</span>

<span class="n">        &quot;Payroll&quot;,</span>

<span class="n">        &quot;Utilities&quot;,</span>

<span class="n">        &quot;Job Supplies&quot;,</span>

<span class="n">        &quot;Grocery&quot;,</span>

<span class="n">    </span><span class="o">]</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">__init__</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">client_id</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">client_secret</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">username</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">api_key</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">base_url</span><span class="o">=</span><span class="n">BASE_URL</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">api_version</span><span class="o">=</span><span class="n">API_VERSION</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">timeout</span><span class="o">=</span><span class="n">API_TIMEOUT</span><span class="p">,</span><span class="w"></span>

<span class="w">    </span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">client_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client_id</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">client_secret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client_secret</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">username</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">api_key</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">api_key</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">base_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">base_url</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">api_version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">api_version</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">versioned_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">base_url</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">api_version</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">timeout</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">_session</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">requests</span><span class="p">.</span><span class="k">Session</span><span class="p">()</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">_get_headers</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nl">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Prepares the headers needed for a request.</span>

<span class="ss">        :return: Dictionary with headers</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">final_headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;User-Agent&quot;</span><span class="err">:</span><span class="w"> </span><span class="ss">&quot;Python Veryfi-Python/3.0.0&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;Accept&quot;</span><span class="err">:</span><span class="w"> </span><span class="ss">&quot;application/json&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;Content-Type&quot;</span><span class="err">:</span><span class="w"> </span><span class="ss">&quot;application/json&quot;</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;Client-Id&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">client_id</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">final_headers</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="err">{</span><span class="ss">&quot;Authorization&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;apikey {self.username}:{self.api_key}&quot;</span><span class="err">}</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">final_headers</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">_request</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">http_verb</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Submit the HTTP request.</span>

<span class="ss">        :param http_verb: HTTP Method</span>

<span class="ss">        :param endpoint_name: Endpoint name such as &#39;documents&#39;, &#39;users&#39;, etc.</span>

<span class="ss">        :param request_arguments: JSON payload to send to Veryfi</span>

<span class="ss">        :return: A JSON of the response data.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_get_headers</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="n">api_url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;{0}/partner{1}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">versioned_url</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="nl">client_secret</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="nc">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">int</span><span class="p">(</span><span class="nc">time</span><span class="p">.</span><span class="nc">time</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_generate_signature</span><span class="p">(</span><span class="n">request_arguments</span><span class="p">,</span><span class="w"> </span><span class="nc">timestamp</span><span class="o">=</span><span class="nc">timestamp</span><span class="p">)</span><span class="w"></span>

<span class="w">            </span><span class="n">headers</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="w"></span>

<span class="w">                </span><span class="err">{</span><span class="w"></span>

<span class="w">                    </span><span class="ss">&quot;X-Veryfi-Request-Timestamp&quot;</span><span class="err">:</span><span class="w"> </span><span class="nf">str</span><span class="p">(</span><span class="nc">timestamp</span><span class="p">),</span><span class="w"></span>

<span class="w">                    </span><span class="ss">&quot;X-Veryfi-Request-Signature&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">signature</span><span class="p">,</span><span class="w"></span>

<span class="w">                </span><span class="err">}</span><span class="w"></span>

<span class="w">            </span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_session</span><span class="p">.</span><span class="n">request</span><span class="p">(</span><span class="w"></span>

<span class="w">            </span><span class="n">http_verb</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="n">url</span><span class="o">=</span><span class="n">api_url</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="k">data</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">request_arguments</span><span class="p">),</span><span class="w"></span>

<span class="w">            </span><span class="n">timeout</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">timeout</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">status_code</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">[</span><span class="n">200, 201, 202, 204</span><span class="o">]</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="n">raise</span><span class="w"> </span><span class="n">VeryfiClientError</span><span class="p">.</span><span class="n">from_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">_generate_signature</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">payload_params</span><span class="p">,</span><span class="w"> </span><span class="nc">timestamp</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Generate unique signature for payload params.</span>

<span class="ss">        :param payload_params: JSON params to be sent to API request</span>

<span class="ss">        :param timestamp: Unix Long timestamp</span>

<span class="ss">        :return: Unique signature generated using the client_secret and the payload</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;timestamp:{}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="nc">timestamp</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="k">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">payload_params</span><span class="p">.</span><span class="n">keys</span><span class="p">()</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="k">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">payload_params</span><span class="o">[</span><span class="n">key</span><span class="o">]</span><span class="w"></span>

<span class="w">            </span><span class="n">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;{0},{1}:{2}&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="k">value</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">secret_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bytes</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">client_secret</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;utf-8&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">payload_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bytes</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;utf-8&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">tmp_signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hmac</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="n">secret_bytes</span><span class="p">,</span><span class="w"> </span><span class="n">msg</span><span class="o">=</span><span class="n">payload_bytes</span><span class="p">,</span><span class="w"> </span><span class="n">digestmod</span><span class="o">=</span><span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="n">base64_signature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">tmp_signature</span><span class="p">).</span><span class="n">decode</span><span class="p">(</span><span class="ss">&quot;utf-8&quot;</span><span class="p">).</span><span class="n">strip</span><span class="p">()</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">base64_signature</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">get_documents</span><span class="p">(</span><span class="n">self</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Get list of documents</span>

<span class="ss">        :return: List of previously processed documents</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/documents/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="n">documents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;GET&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ss">&quot;documents&quot;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">documents</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">documents</span><span class="o">[</span><span class="n">&quot;documents&quot;</span><span class="o">]</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">documents</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">get_document</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Retrieve document by ID</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to retrieve</span>

<span class="ss">        :return: Data extracted from the Document</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/documents/{}/&quot;</span><span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="n">document_id</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="ss">&quot;id&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">document_id</span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;GET&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">document</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">process_document</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">file_path</span><span class="p">:</span><span class="w"> </span><span class="nf">str</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">categories</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">List</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">delete_after_processing</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">False</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="o">**</span><span class="nl">kwargs</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="p">,</span><span class="w"></span>

<span class="w">    </span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Process a document and extract all the fields from it</span>

<span class="ss">        :param file_path: Path on disk to a file to submit for data extraction</span>

<span class="ss">        :param categories: List of categories Veryfi can use to categorize the document</span>

<span class="ss">        :param delete_after_processing: Delete this document from Veryfi after data has been extracted</span>

<span class="ss">        :param kwargs: Additional request parameters</span>

<span class="ss">        :return: Data extracted from the document</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/documents/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nl">categories</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">categories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">CATEGORIES</span><span class="w"></span>

<span class="w">        </span><span class="nf">file_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="k">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">with</span><span class="w"> </span><span class="k">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;rb&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nl">image_file</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">base64_encoded_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">image_file</span><span class="p">.</span><span class="k">read</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="ss">&quot;utf-8&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_name&quot;</span><span class="err">:</span><span class="w"> </span><span class="nf">file_name</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_data&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">base64_encoded_string</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;categories&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">categories</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;auto_delete&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">delete_after_processing</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">document</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">process_document_url</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">file_url</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">categories</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">List[str</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">delete_after_processing</span><span class="o">=</span><span class="k">False</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">boost_mode</span><span class="p">:</span><span class="w"> </span><span class="nc">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">external_id</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">max_pages_to_process</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">int</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">file_urls</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">List[str</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="o">**</span><span class="nl">kwargs</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="p">,</span><span class="w"></span>

<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nl">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Process Document from url and extract all the fields from it.</span>

<span class="ss">        :param file_url: Required if file_urls isn&#39;t specified. Publicly accessible URL to a file, e.g. &quot;</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">cdn</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">receipt</span><span class="p">.</span><span class="n">jpg</span><span class="ss">&quot;.</span>

<span class="ss">        :param file_urls: Required if file_url isn&#39;t specifies. List of publicly accessible URLs to multiple files, e.g. [&quot;</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">cdn</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">receipt1</span><span class="p">.</span><span class="n">jpg</span><span class="ss">&quot;, &quot;</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">cdn</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">receipt2</span><span class="p">.</span><span class="n">jpg</span><span class="ss">&quot;]</span>

<span class="ss">        :param categories: List of categories to use when categorizing the document</span>

<span class="ss">        :param delete_after_processing: Delete this document from Veryfi after data has been extracted</span>

<span class="ss">        :param max_pages_to_process: When sending a long document to Veryfi for processing, this parameter controls how many pages of the document will be read and processed, starting from page 1.</span>

<span class="ss">        :param boost_mode: Flag that tells Veryfi whether boost mode should be enabled. When set to 1, Veryfi will skip data enrichment steps, but will process the document faster. Default value for this flag is 0</span>

<span class="ss">        :param external_id: Optional custom document identifier. Use this if you would like to assign your own ID to documents</span>

<span class="ss">        :param kwargs: Additional request parameters</span>

<span class="ss">        :return: Data extracted from the document.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/documents/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;auto_delete&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">delete_after_processing</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;boost_mode&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">boost_mode</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;categories&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">categories</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;external_id&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">external_id</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_url&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">file_url</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_urls&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">file_urls</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;max_pages_to_process&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">max_pages_to_process</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">process_w9_document_url</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">file_url</span><span class="p">:</span><span class="w"> </span><span class="nf">str</span><span class="p">,</span><span class="w"> </span><span class="nf">file_name</span><span class="err">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="nl">kwargs</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="w"></span>

<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nl">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Process W9 Document from url and extract all the fields from it.</span>

<span class="ss">        :param file_url: Publicly accessible URL to a file, e.g. &quot;</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">cdn</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">receipt</span><span class="p">.</span><span class="n">jpg</span><span class="ss">&quot;.</span>

<span class="ss">        :param file_name: Optional name of file, eg. receipt.jpg</span>

<span class="ss">        :param kwargs: Additional request parameters</span>

<span class="ss">        :return: Data extracted from the document.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">file_name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="nf">file_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="k">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_url</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/w9s/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_name&quot;</span><span class="err">:</span><span class="w"> </span><span class="nf">file_name</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_url&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">file_url</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">process_w9_document</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">file_path</span><span class="p">:</span><span class="w"> </span><span class="nf">str</span><span class="p">,</span><span class="w"> </span><span class="nf">file_name</span><span class="err">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Process W9 Document from url and extract all the fields from it.</span>

<span class="ss">        :param file_path: Path on disk to a file to submit for data extraction</span>

<span class="ss">        :param file_name: Optional name of file, eg. receipt.jpg</span>

<span class="ss">        :param kwargs: Additional request parameters</span>

<span class="ss">        :return: Data extracted from the document.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/w9s/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">file_name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="nf">file_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="k">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">with</span><span class="w"> </span><span class="k">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;rb&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nl">image_file</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">base64_encoded_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">image_file</span><span class="p">.</span><span class="k">read</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="ss">&quot;utf-8&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_name&quot;</span><span class="err">:</span><span class="w"> </span><span class="nf">file_name</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_data&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">base64_encoded_string</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">document</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">delete_document</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Delete Document from Veryfi</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to delete</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;/documents/{document_id}/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="ss">&quot;id&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">document_id</span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;DELETE&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">update_document</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">document_id</span><span class="p">:</span><span class="w"> </span><span class="nc">int</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nl">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Update data for a previously processed document, including almost any field like `vendor`, `date`, `notes` and etc.</span>

<span class="ss">        ```veryfi_client.update_document(id, date=&quot;</span><span class="mi">2021</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="ss">&quot;, notes=&quot;</span><span class="n">look</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">did</span><span class="ss">&quot;)```</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="ss">        :param kwargs: fields to update</span>

<span class="ss">        :return: A document json with updated fields, if fields are writable. Otherwise a document with unchanged fields.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;/documents/{document_id}/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;PUT&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">get_line_items</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Retrieve all line items for a document.</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to retrieve</span>

<span class="ss">        :return: List of line items extracted from the document</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;/documents/{document_id}/line-items/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="n">line_items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;GET&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">line_items</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">get_line_item</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="p">,</span><span class="w"> </span><span class="n">line_item_id</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Retrieve a line item for existing document by ID.</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to retrieve</span>

<span class="ss">        :param line_item_id: ID of the line item you&#39;d like to retrieve</span>

<span class="ss">        :return: Line item extracted from the document</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;/documents/{document_id}/line-items/{line_item_id}&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="n">line_items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;GET&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">line_items</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">add_line_item</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">document_id</span><span class="p">:</span><span class="w"> </span><span class="nc">int</span><span class="p">,</span><span class="w"> </span><span class="nl">payload</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nl">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Add a new line item on an existing document.</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="ss">        :param payload: line item object to add</span>

<span class="ss">        :return: Added line item data</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;/documents/{document_id}/line-items/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AddLineItem</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">).</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="k">True</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">update_line_item</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">document_id</span><span class="p">:</span><span class="w"> </span><span class="nc">int</span><span class="p">,</span><span class="w"> </span><span class="nl">line_item_id</span><span class="p">:</span><span class="w"> </span><span class="nc">int</span><span class="p">,</span><span class="w"> </span><span class="nl">payload</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nl">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Update an existing line item on an existing document.</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="ss">        :param line_item_id: ID of the line item you&#39;d like to update</span>

<span class="ss">        :param payload: line item object to update</span>

<span class="ss">        :return: Line item data with updated fields, if fields are writable. Otherwise line item data with unchanged fields.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;/documents/{document_id}/line-items/{line_item_id}&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UpdateLineItem</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">).</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="k">True</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;PUT&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">delete_line_items</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Delete all line items on an existing document.</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to delete</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;/documents/{document_id}/line-items/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;DELETE&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">delete_line_item</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="p">,</span><span class="w"> </span><span class="n">line_item_id</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Delete an existing line item on an existing document.</span>

<span class="ss">        :param document_id: ID of the document you&#39;d like to delete</span>

<span class="ss">        :param line_item_id: ID of the line item you&#39;d like to delete</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="ss">&quot;/documents/{document_id}/line-items/{line_item_id}&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{}</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;DELETE&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
<hr />
<h4 id="class-variables">Class variables</h4>
<div class="codehilite"><pre><span></span><code><span class="n">API_TIMEOUT</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">API_VERSION</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">BASE_URL</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">CATEGORIES</span>
</code></pre></div>

<h4 id="methods">Methods</h4>
<h4 id="add_line_item">add_line_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">add_line_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">payload</span><span class="p">:</span> <span class="n">Dict</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span>
</code></pre></div>

<p>Add a new line item on an existing document.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to update</td>
<td>None</td>
</tr>
<tr>
<td>payload</td>
<td>None</td>
<td>line item object to add</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>Added line item data</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">add_line_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="p">,</span><span class="w"> </span><span class="n">payload</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Add a new line item on an existing document.</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="sd">        :param payload: line item object to add</span>

<span class="sd">        :return: Added line item data</span>

<span class="sd">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="s2">&quot;/documents/{document_id}/line-items/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AddLineItem</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">)</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="n">True</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="delete_document">delete_document</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_document</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span>
<span class="p">)</span>
</code></pre></div>

<p>Delete Document from Veryfi</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to delete</td>
<td>None</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def delete_document(self, document_id):

        &quot;&quot;&quot;

        Delete Document from Veryfi

        :param document_id: ID of the document you&#39;d like to delete

        &quot;&quot;&quot;

        endpoint_name = f&quot;/documents/{document_id}/&quot;

        request_arguments = {&quot;id&quot;: document_id}

        self._request(&quot;DELETE&quot;, endpoint_name, request_arguments)
</code></pre></div>

</details>
<h4 id="delete_line_item">delete_line_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_line_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span><span class="p">,</span>
    <span class="n">line_item_id</span>
<span class="p">)</span>
</code></pre></div>

<p>Delete an existing line item on an existing document.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to delete</td>
<td>None</td>
</tr>
<tr>
<td>line_item_id</td>
<td>None</td>
<td>ID of the line item you'd like to delete</td>
<td>None</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def delete_line_item(self, document_id, line_item_id):

        &quot;&quot;&quot;

        Delete an existing line item on an existing document.

        :param document_id: ID of the document you&#39;d like to delete

        :param line_item_id: ID of the line item you&#39;d like to delete

        &quot;&quot;&quot;

        endpoint_name = f&quot;/documents/{document_id}/line-items/{line_item_id}&quot;

        request_arguments = {}

        self._request(&quot;DELETE&quot;, endpoint_name, request_arguments)
</code></pre></div>

</details>
<h4 id="delete_line_items">delete_line_items</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_line_items</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span>
<span class="p">)</span>
</code></pre></div>

<p>Delete all line items on an existing document.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to delete</td>
<td>None</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    def delete_line_items(self, document_id):

        &quot;&quot;&quot;

        Delete all line items on an existing document.

        :param document_id: ID of the document you&#39;d like to delete

        &quot;&quot;&quot;

        endpoint_name = f&quot;/documents/{document_id}/line-items/&quot;

        request_arguments = {}

        self._request(&quot;DELETE&quot;, endpoint_name, request_arguments)
</code></pre></div>

</details>
<h4 id="get_document">get_document</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_document</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span>
<span class="p">)</span>
</code></pre></div>

<p>Retrieve document by ID</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to retrieve</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>Data extracted from the Document</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">get_document</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">document_id</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">Retrieve</span> <span class="nv">document</span> <span class="nv">by</span> <span class="nv">ID</span>

        :<span class="nv">param</span> <span class="nv">document_id</span>: <span class="nv">ID</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">document</span> <span class="nv">you</span><span class="s1">&#39;</span><span class="s">d like to retrieve</span>

        <span class="nl">:return</span>: <span class="nv">Data</span> <span class="nv">extracted</span> <span class="nv">from</span> <span class="nv">the</span> <span class="nv">Document</span>

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">endpoint_name</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">/documents/{}/</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span><span class="nv">document_id</span><span class="ss">)</span>

        <span class="nv">request_arguments</span> <span class="o">=</span> {<span class="s2">&quot;</span><span class="s">id</span><span class="s2">&quot;</span>: <span class="nv">document_id</span>}

        <span class="nv">document</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">_request</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">GET</span><span class="s2">&quot;</span>, <span class="nv">endpoint_name</span>, <span class="nv">request_arguments</span><span class="ss">)</span>

        <span class="k">return</span> <span class="nv">document</span>
</code></pre></div>

</details>
<h4 id="get_documents">get_documents</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_documents</span><span class="p">(</span>
    <span class="bp">self</span>
<span class="p">)</span>
</code></pre></div>

<p>Get list of documents</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>List of previously processed documents</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">get_documents</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">Get</span> <span class="nv">list</span> <span class="nv">of</span> <span class="nv">documents</span>

        :<span class="k">return</span>: <span class="nv">List</span> <span class="nv">of</span> <span class="nv">previously</span> <span class="nv">processed</span> <span class="nv">documents</span>

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">endpoint_name</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="s">/documents/</span><span class="s2">&quot;</span>

        <span class="nv">request_arguments</span> <span class="o">=</span> {}

        <span class="nv">documents</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">_request</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">GET</span><span class="s2">&quot;</span>, <span class="nv">endpoint_name</span>, <span class="nv">request_arguments</span><span class="ss">)</span>

        <span class="k">if</span> <span class="s2">&quot;</span><span class="s">documents</span><span class="s2">&quot;</span> <span class="nv">in</span> <span class="nv">documents</span>:

            <span class="k">return</span> <span class="nv">documents</span>[<span class="s2">&quot;</span><span class="s">documents</span><span class="s2">&quot;</span>]

        <span class="k">return</span> <span class="nv">documents</span>
</code></pre></div>

</details>
<h4 id="get_line_item">get_line_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_line_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span><span class="p">,</span>
    <span class="n">line_item_id</span>
<span class="p">)</span>
</code></pre></div>

<p>Retrieve a line item for existing document by ID.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to retrieve</td>
<td>None</td>
</tr>
<tr>
<td>line_item_id</td>
<td>None</td>
<td>ID of the line item you'd like to retrieve</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>Line item extracted from the document</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">get_line_item</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">document_id</span>, <span class="nv">line_item_id</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">Retrieve</span> <span class="nv">a</span> <span class="nv">line</span> <span class="nv">item</span> <span class="k">for</span> <span class="nv">existing</span> <span class="nv">document</span> <span class="nv">by</span> <span class="nv">ID</span>.

        :<span class="nv">param</span> <span class="nv">document_id</span>: <span class="nv">ID</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">document</span> <span class="nv">you</span><span class="s1">&#39;</span><span class="s">d like to retrieve</span>

        <span class="nl">:param</span> <span class="nv">line_item_id</span>: <span class="nv">ID</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">line</span> <span class="nv">item</span> <span class="nv">you</span><span class="s1">&#39;</span><span class="s">d like to retrieve</span>

        <span class="nl">:return</span>: <span class="nv">Line</span> <span class="nv">item</span> <span class="nv">extracted</span> <span class="nv">from</span> <span class="nv">the</span> <span class="nv">document</span>

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">endpoint_name</span> <span class="o">=</span> <span class="nv">f</span><span class="s2">&quot;</span><span class="s">/documents/{document_id}/line-items/{line_item_id}</span><span class="s2">&quot;</span>

        <span class="nv">request_arguments</span> <span class="o">=</span> {}

        <span class="nv">line_items</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">_request</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">GET</span><span class="s2">&quot;</span>, <span class="nv">endpoint_name</span>, <span class="nv">request_arguments</span><span class="ss">)</span>

        <span class="k">return</span> <span class="nv">line_items</span>
</code></pre></div>

</details>
<h4 id="get_line_items">get_line_items</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_line_items</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span>
<span class="p">)</span>
</code></pre></div>

<p>Retrieve all line items for a document.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to retrieve</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>List of line items extracted from the document</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code>    <span class="nv">def</span> <span class="nv">get_line_items</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">document_id</span><span class="ss">)</span>:

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">Retrieve</span> <span class="nv">all</span> <span class="nv">line</span> <span class="nv">items</span> <span class="k">for</span> <span class="nv">a</span> <span class="nv">document</span>.

        :<span class="nv">param</span> <span class="nv">document_id</span>: <span class="nv">ID</span> <span class="nv">of</span> <span class="nv">the</span> <span class="nv">document</span> <span class="nv">you</span><span class="s1">&#39;</span><span class="s">d like to retrieve</span>

        <span class="nl">:return</span>: <span class="nv">List</span> <span class="nv">of</span> <span class="nv">line</span> <span class="nv">items</span> <span class="nv">extracted</span> <span class="nv">from</span> <span class="nv">the</span> <span class="nv">document</span>

        <span class="s2">&quot;&quot;&quot;</span>

        <span class="nv">endpoint_name</span> <span class="o">=</span> <span class="nv">f</span><span class="s2">&quot;</span><span class="s">/documents/{document_id}/line-items/</span><span class="s2">&quot;</span>

        <span class="nv">request_arguments</span> <span class="o">=</span> {}

        <span class="nv">line_items</span> <span class="o">=</span> <span class="nv">self</span>.<span class="nv">_request</span><span class="ss">(</span><span class="s2">&quot;</span><span class="s">GET</span><span class="s2">&quot;</span>, <span class="nv">endpoint_name</span>, <span class="nv">request_arguments</span><span class="ss">)</span>

        <span class="k">return</span> <span class="nv">line_items</span>
</code></pre></div>

</details>
<h4 id="process_document">process_document</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">process_document</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">categories</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">delete_after_processing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span>
<span class="p">)</span>
</code></pre></div>

<p>Process a document and extract all the fields from it</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>file_path</td>
<td>None</td>
<td>Path on disk to a file to submit for data extraction</td>
<td>None</td>
</tr>
<tr>
<td>categories</td>
<td>None</td>
<td>List of categories Veryfi can use to categorize the document</td>
<td>None</td>
</tr>
<tr>
<td>delete_after_processing</td>
<td>None</td>
<td>Delete this document from Veryfi after data has been extracted</td>
<td>None</td>
</tr>
<tr>
<td>kwargs</td>
<td>None</td>
<td>Additional request parameters</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>Data extracted from the document</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">process_document</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">file_path</span><span class="p">:</span><span class="w"> </span><span class="nf">str</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">categories</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">List</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">delete_after_processing</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">False</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="o">**</span><span class="nl">kwargs</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="p">,</span><span class="w"></span>

<span class="w">    </span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Process a document and extract all the fields from it</span>

<span class="ss">        :param file_path: Path on disk to a file to submit for data extraction</span>

<span class="ss">        :param categories: List of categories Veryfi can use to categorize the document</span>

<span class="ss">        :param delete_after_processing: Delete this document from Veryfi after data has been extracted</span>

<span class="ss">        :param kwargs: Additional request parameters</span>

<span class="ss">        :return: Data extracted from the document</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/documents/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="nl">categories</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">categories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">CATEGORIES</span><span class="w"></span>

<span class="w">        </span><span class="nf">file_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="k">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">with</span><span class="w"> </span><span class="k">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;rb&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nl">image_file</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">base64_encoded_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">image_file</span><span class="p">.</span><span class="k">read</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="ss">&quot;utf-8&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_name&quot;</span><span class="err">:</span><span class="w"> </span><span class="nf">file_name</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_data&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">base64_encoded_string</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;categories&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">categories</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;auto_delete&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">delete_after_processing</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">document</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="process_document_url">process_document_url</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">process_document_url</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">file_url</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">categories</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">delete_after_processing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">boost_mode</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">external_id</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">max_pages_to_process</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">file_urls</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span>
</code></pre></div>

<p>Process Document from url and extract all the fields from it.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>file_url</td>
<td>None</td>
<td>Required if file_urls isn't specified. Publicly accessible URL to a file, e.g. "https://cdn.example.com/receipt.jpg".</td>
<td>None</td>
</tr>
<tr>
<td>file_urls</td>
<td>None</td>
<td>Required if file_url isn't specifies. List of publicly accessible URLs to multiple files, e.g. ["https://cdn.example.com/receipt1.jpg", "https://cdn.example.com/receipt2.jpg"]</td>
<td>None</td>
</tr>
<tr>
<td>categories</td>
<td>None</td>
<td>List of categories to use when categorizing the document</td>
<td>None</td>
</tr>
<tr>
<td>delete_after_processing</td>
<td>None</td>
<td>Delete this document from Veryfi after data has been extracted</td>
<td>None</td>
</tr>
<tr>
<td>max_pages_to_process</td>
<td>None</td>
<td>When sending a long document to Veryfi for processing, this parameter controls how many pages of the document will be read and processed, starting from page 1.</td>
<td>None</td>
</tr>
<tr>
<td>boost_mode</td>
<td>None</td>
<td>Flag that tells Veryfi whether boost mode should be enabled. When set to 1, Veryfi will skip data enrichment steps, but will process the document faster. Default value for this flag is 0</td>
<td>None</td>
</tr>
<tr>
<td>external_id</td>
<td>None</td>
<td>Optional custom document identifier. Use this if you would like to assign your own ID to documents</td>
<td>None</td>
</tr>
<tr>
<td>kwargs</td>
<td>None</td>
<td>Additional request parameters</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>Data extracted from the document.</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">process_document_url</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">file_url</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">categories</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">List[str</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="n">delete_after_processing</span><span class="o">=</span><span class="k">False</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">boost_mode</span><span class="p">:</span><span class="w"> </span><span class="nc">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">external_id</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">max_pages_to_process</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">int</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="nl">file_urls</span><span class="p">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">List[str</span><span class="o">]</span><span class="err">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="o">**</span><span class="nl">kwargs</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="p">,</span><span class="w"></span>

<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nl">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;Process Document from url and extract all the fields from it.</span>

<span class="ss">        :param file_url: Required if file_urls isn&#39;t specified. Publicly accessible URL to a file, e.g. &quot;</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">cdn</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">receipt</span><span class="p">.</span><span class="n">jpg</span><span class="ss">&quot;.</span>

<span class="ss">        :param file_urls: Required if file_url isn&#39;t specifies. List of publicly accessible URLs to multiple files, e.g. [&quot;</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">cdn</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">receipt1</span><span class="p">.</span><span class="n">jpg</span><span class="ss">&quot;, &quot;</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">cdn</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">receipt2</span><span class="p">.</span><span class="n">jpg</span><span class="ss">&quot;]</span>

<span class="ss">        :param categories: List of categories to use when categorizing the document</span>

<span class="ss">        :param delete_after_processing: Delete this document from Veryfi after data has been extracted</span>

<span class="ss">        :param max_pages_to_process: When sending a long document to Veryfi for processing, this parameter controls how many pages of the document will be read and processed, starting from page 1.</span>

<span class="ss">        :param boost_mode: Flag that tells Veryfi whether boost mode should be enabled. When set to 1, Veryfi will skip data enrichment steps, but will process the document faster. Default value for this flag is 0</span>

<span class="ss">        :param external_id: Optional custom document identifier. Use this if you would like to assign your own ID to documents</span>

<span class="ss">        :param kwargs: Additional request parameters</span>

<span class="ss">        :return: Data extracted from the document.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/documents/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;auto_delete&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">delete_after_processing</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;boost_mode&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">boost_mode</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;categories&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">categories</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;external_id&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">external_id</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_url&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">file_url</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_urls&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">file_urls</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;max_pages_to_process&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">max_pages_to_process</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="process_w9_document">process_w9_document</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">process_w9_document</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">file_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span>
</code></pre></div>

<p>Process W9 Document from url and extract all the fields from it.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>file_path</td>
<td>None</td>
<td>Path on disk to a file to submit for data extraction</td>
<td>None</td>
</tr>
<tr>
<td>file_name</td>
<td>None</td>
<td>Optional name of file, eg. receipt.jpg</td>
<td>None</td>
</tr>
<tr>
<td>kwargs</td>
<td>None</td>
<td>Additional request parameters</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>Data extracted from the document.</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">process_w9_document</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">file_path</span><span class="p">:</span><span class="w"> </span><span class="nf">str</span><span class="p">,</span><span class="w"> </span><span class="nf">file_name</span><span class="err">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="err">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Process W9 Document from url and extract all the fields from it.</span>

<span class="ss">        :param file_path: Path on disk to a file to submit for data extraction</span>

<span class="ss">        :param file_name: Optional name of file, eg. receipt.jpg</span>

<span class="ss">        :param kwargs: Additional request parameters</span>

<span class="ss">        :return: Data extracted from the document.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/w9s/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">file_name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="nf">file_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="k">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">with</span><span class="w"> </span><span class="k">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;rb&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nl">image_file</span><span class="p">:</span><span class="w"></span>

<span class="w">            </span><span class="n">base64_encoded_string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">image_file</span><span class="p">.</span><span class="k">read</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="ss">&quot;utf-8&quot;</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_name&quot;</span><span class="err">:</span><span class="w"> </span><span class="nf">file_name</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_data&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">base64_encoded_string</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">document</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="process_w9_document_url">process_w9_document_url</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">process_w9_document_url</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">file_url</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">file_name</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span>
</code></pre></div>

<p>Process W9 Document from url and extract all the fields from it.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>file_url</td>
<td>None</td>
<td>Publicly accessible URL to a file, e.g. "https://cdn.example.com/receipt.jpg".</td>
<td>None</td>
</tr>
<tr>
<td>file_name</td>
<td>None</td>
<td>Optional name of file, eg. receipt.jpg</td>
<td>None</td>
</tr>
<tr>
<td>kwargs</td>
<td>None</td>
<td>Additional request parameters</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>Data extracted from the document.</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">process_w9_document_url</span><span class="p">(</span><span class="w"></span>

<span class="w">        </span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="nl">file_url</span><span class="p">:</span><span class="w"> </span><span class="nf">str</span><span class="p">,</span><span class="w"> </span><span class="nf">file_name</span><span class="err">:</span><span class="w"> </span><span class="n">Optional</span><span class="o">[</span><span class="n">str</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">None</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="nl">kwargs</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="w"></span>

<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nl">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="ss">&quot;&quot;&quot;</span>

<span class="ss">        Process W9 Document from url and extract all the fields from it.</span>

<span class="ss">        :param file_url: Publicly accessible URL to a file, e.g. &quot;</span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">cdn</span><span class="p">.</span><span class="n">example</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">receipt</span><span class="p">.</span><span class="n">jpg</span><span class="ss">&quot;.</span>

<span class="ss">        :param file_name: Optional name of file, eg. receipt.jpg</span>

<span class="ss">        :param kwargs: Additional request parameters</span>

<span class="ss">        :return: Data extracted from the document.</span>

<span class="ss">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">file_name</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">None</span><span class="err">:</span><span class="w"></span>

<span class="w">            </span><span class="nf">file_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">os</span><span class="p">.</span><span class="k">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_url</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;/w9s/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_name&quot;</span><span class="err">:</span><span class="w"> </span><span class="nf">file_name</span><span class="p">,</span><span class="w"></span>

<span class="w">            </span><span class="ss">&quot;file_url&quot;</span><span class="err">:</span><span class="w"> </span><span class="n">file_url</span><span class="p">,</span><span class="w"></span>

<span class="w">        </span><span class="err">}</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="p">.</span><span class="k">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="ss">&quot;POST&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="update_document">update_document</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">update_document</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span>
</code></pre></div>

<p>Update data for a previously processed document, including almost any field like <code>vendor</code>, <code>date</code>, <code>notes</code> and etc.</p>
<p><code>veryfi_client.update_document(id, date="2021-01-01", notes="look what I did")</code></p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to update</td>
<td>None</td>
</tr>
<tr>
<td>kwargs</td>
<td>None</td>
<td>fields to update</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>A document json with updated fields, if fields are writable. Otherwise a document with unchanged fields.</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">update_document</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="o">:</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Dict</span><span class="o">:</span><span class="w"></span>

<span class="w">        </span><span class="s2">&quot;</span><span class="se">&quot;&quot;</span><span class="s2"></span>

<span class="s2">        Update data for a previously processed document, including almost any field like `vendor`, `date`, `notes` and etc.</span>

<span class="s2">        ```veryfi_client.update_document(id, date=&quot;</span><span class="mi">2021</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="s2">&quot;, notes=&quot;</span><span class="n">look</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">I</span><span class="w"> </span><span class="n">did</span><span class="s2">&quot;)```</span>

<span class="s2">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="s2">        :param kwargs: fields to update</span>

<span class="s2">        :return: A document json with updated fields, if fields are writable. Otherwise a document with unchanged fields.</span>

<span class="s2">        </span><span class="se">&quot;&quot;</span><span class="s2">&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="s2">&quot;/documents/{document_id}/&quot;</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">self</span><span class="p">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">kwargs</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
<h4 id="update_line_item">update_line_item</h4>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">update_line_item</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">document_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">line_item_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">payload</span><span class="p">:</span> <span class="n">Dict</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span>
</code></pre></div>

<p>Update an existing line item on an existing document.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>document_id</td>
<td>None</td>
<td>ID of the document you'd like to update</td>
<td>None</td>
</tr>
<tr>
<td>line_item_id</td>
<td>None</td>
<td>ID of the line item you'd like to update</td>
<td>None</td>
</tr>
<tr>
<td>payload</td>
<td>None</td>
<td>line item object to update</td>
<td>None</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>Line item data with updated fields, if fields are writable. Otherwise line item data with unchanged fields.</td>
</tr>
</tbody>
</table>
<details class="example">
<summary>View Source</summary>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="n">def</span><span class="w"> </span><span class="n">update_line_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">document_id</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="p">,</span><span class="w"> </span><span class="n">line_item_id</span><span class="p">:</span><span class="w"> </span><span class="nb nb-Type">int</span><span class="p">,</span><span class="w"> </span><span class="n">payload</span><span class="p">:</span><span class="w"> </span><span class="n">Dict</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Dict</span><span class="p">:</span><span class="w"></span>

<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        Update an existing line item on an existing document.</span>

<span class="sd">        :param document_id: ID of the document you&#39;d like to update</span>

<span class="sd">        :param line_item_id: ID of the line item you&#39;d like to update</span>

<span class="sd">        :param payload: line item object to update</span>

<span class="sd">        :return: Line item data with updated fields, if fields are writable. Otherwise line item data with unchanged fields.</span>

<span class="sd">        &quot;&quot;&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">endpoint_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="s2">&quot;/documents/{document_id}/line-items/{line_item_id}&quot;</span><span class="w"></span>

<span class="w">        </span><span class="n">request_arguments</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UpdateLineItem</span><span class="p">(</span><span class="o">**</span><span class="n">payload</span><span class="p">)</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude_none</span><span class="o">=</span><span class="n">True</span><span class="p">)</span><span class="w"></span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;PUT&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">endpoint_name</span><span class="p">,</span><span class="w"> </span><span class="n">request_arguments</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

</details>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../../NEWS/" title="News" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                News
              </span>
            </div>
          </a>
        
        
          <a href="../errors/" title="Errors" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Errors
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Powered by
        <a href="http://timothycrosley.github.io/portray">portray.</a>
        You too can
        <a href="http://timothycrosley.github.io/portray">
          portray</a>
        your Python project well using automatic documentation.
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.f8263e09.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.4fc53ad4.min.js"></script>
      
    
  </body>
</html>